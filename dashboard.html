<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Puck Picks | Dashboard</title>
  <link rel="stylesheet" href="styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body class="ui">
  <!-- Header -->
  <header class="topbar topbar--sticky">
    <div class="wrap">
      <a class="brand" href="/">üèí Puck Picks</a>
      <nav class="nav">
        <a class="nav__link" href="/">Home</a>
        <a class="nav__link active" href="/dashboard.html">Dashboard</a>
        <a class="nav__link" href="https://accounts.puck-picks.com/sign-in?redirect_url=https://puck-picks.com/dashboard.html">Logout</a>
      </nav>
    </div>
  </header>

  <main class="wrap pad-y">
    <h1 class="page__title">My Dashboard</h1>
    <p class="muted">Make your weekly picks, set starters (3F+2D), and track head-to-head results.</p>

    <div class="grid g2 gap">
      <!-- Weekly Roster -->
      <section class="card">
        <div class="card__head">
          <h2>Weekly Lineup</h2>
          <span class="tag">Week <span id="weekTag"></span></span>
        </div>
        <div class="card__body">
          <div id="weekly-roster"><!-- script renders --></div>
        </div>
      </section>

      <!-- Game Picks -->
      <section class="card">
        <div class="card__head">
          <h2>Game Picks (30)</h2>
          <span class="muted">+1 point each correct</span>
        </div>
        <div class="card__body">
          <div id="game-picks"><!-- script renders --></div>
        </div>
      </section>
    </div>

    <!-- Leaderboard & Head-to-Head -->
    <div class="grid g2 gap">
      <section class="card">
        <div class="card__head"><h2>League Standings</h2></div>
        <div class="card__body">
          <div id="leaderboard"><!-- script renders --></div>
        </div>
      </section>

      <section class="card">
        <div class="card__head"><h2>Head-to-Head</h2></div>
        <div class="card__body">
          <div id="head-to-head"><!-- script renders --></div>
        </div>
      </section>
    </div>

    <!-- Demo controls (optional; safe to keep) -->
    <section class="card">
      <div class="card__head"><h2>Demo Controls (Local)</h2></div>
      <div class="card__body row gap-sm">
        <button id="btn-simulate" class="btn btn--primary">Simulate Week Results</button>
        <button id="btn-reset-week" class="btn btn--ghost">Reset This Week</button>
        <button id="btn-swap-user" class="btn btn--ghost">Switch User (Alpha/Beta)</button>
        <div class="muted">These affect local demo data only; we‚Äôll hook Supabase next.</div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="wrap footer__inner">
      <span>¬© <span id="year"></span> Puck Picks</span>
      <span class="muted">Fantasy Hockey. One week at a time.</span>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    // Show week label (Mon YYYY-MM-DD)
    (function(){
      const d = new Date(); const day = d.getDay(); const diff = (day+6)%7; // Mon=0
      const monday = new Date(d); monday.setDate(d.getDate()-diff);
      const y = monday.getFullYear(); const m = String(monday.getMonth()+1).padStart(2,'0'); const da = String(monday.getDate()).padStart(2,'0');
      document.getElementById('weekTag').textContent = `${y}-${m}-${da}`;
    })();
  </script>
</body>
</html>
